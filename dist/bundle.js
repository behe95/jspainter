!function(e){var t={};function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t,o){"use strict";o.r(t);o(1),o(2)},function(e,t,o){},function(e,t){var o=document.querySelector("canvas"),n=o.getContext("2d");o.width=window.innerWidth,o.height=window.innerHeight;var i="#000",r=1,s=new iro.ColorPicker("#picker",{width:200});s.on("color:change",(function(){i=s.color.hexString,document.querySelector("#selectedColor").style.background=i}));var f=document.querySelector("#brushSize");[5,10,15,20,25,30,35,40,45,50].forEach((function(e){var t=document.createElement("option");t.value=e,t.innerHTML=e,f.appendChild(t)})),f.addEventListener("change",(function(e){r=f.value}));var a=document.querySelector("#btnNewCanvas"),c=document.querySelector("#btnLine"),l=document.querySelector("#btnCircle"),u=document.querySelector("#btnRectangle"),d=document.querySelector("#btnPen"),y=document.querySelector("#btnEraser"),v=!1,h=!1,x=!1,g=!1,S=!1,p=!1,b=!1;function P(e){v=e,h=e,x=e,g=e,p=e}c.addEventListener("click",(function(e){P(!1),v=!v})),l.addEventListener("click",(function(e){P(!1),h=!h})),u.addEventListener("click",(function(e){P(!1),x=!x})),d.addEventListener("click",(function(e){P(!1),g=!g})),y.addEventListener("click",(function(e){P(!1),p=!p}));var m={x:void 0,y:void 0},k={x:void 0,y:void 0},O=[],w={x:void 0,y:void 0},E=[],W={x:void 0,y:void 0},N=[];function J(e,t,o,n){return Math.sqrt(Math.pow(e-o,2)+Math.pow(t-n,2))}function M(e){switch(e.name){case"line":!function(e){var t=e.startingPosition,o=e.lastPosition;n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(o.x,o.y),n.save(),n.lineWidth=e.lineWidth,n.strokeStyle=e.color,n.stroke(),n.restore()}(e);break;case"circle":!function(e){var t=e.startingPosition,o=e.lastPosition;n.beginPath();var i=J(t.x,t.y,o.x,o.y);n.arc(t.x,t.y,i,0,2*Math.PI,!1),n.save(),n.lineWidth=e.lineWidth,n.strokeStyle=e.color,n.stroke(),n.restore()}(e);break;case"rectangle":!function(e){var t=e.startingPosition,o=e.lastPosition;n.beginPath();var i=Math.abs(t.x-o.x),r=Math.abs(t.y-o.y);n.save(),n.lineWidth=e.lineWidth,n.strokeStyle=e.color,n.strokeRect(t.x,t.y,i,r),n.restore()}(e);break;case"pen":!function(e){var t=e.penStartPosition,o=e.penFollowingPositions;n.beginPath(),n.moveTo(t.x,t.y),o.forEach((function(e){n.lineTo(e.x,e.y)})),n.save(),n.lineWidth=e.lineWidth,n.strokeStyle=e.color,n.stroke(),n.restore()}(e);break;case"eraser":!function(e){e.eraserPositions.forEach((function(e){n.beginPath(),n.fillStyle="#fff",n.fillRect(e.x-1,e.y-1,52,52)}))}(e)}}o.addEventListener("mousedown",(function(e){v||h||x?(m.x=e.offsetX,m.y=e.offsetY):g?(S=!S)&&(m.x=e.offsetX,m.y=e.offsetY,n.beginPath(),n.moveTo(e.offsetX,e.offsetY),w.x=e.offsetX,w.y=e.offsetY):p&&(b=!b)})),o.addEventListener("mouseup",(function(e){if(v)O.push({name:"line",lineWidth:r,color:i,startingPosition:JSON.parse(JSON.stringify(m)),lastPosition:JSON.parse(JSON.stringify(k))});else if(h)O.push({name:"circle",lineWidth:r,color:i,startingPosition:JSON.parse(JSON.stringify(m)),lastPosition:JSON.parse(JSON.stringify(k))});else if(x)O.push({name:"rectangle",lineWidth:r,color:i,startingPosition:JSON.parse(JSON.stringify(m)),lastPosition:JSON.parse(JSON.stringify(k))});else if(S)S=!S,O.push({name:"pen",lineWidth:r,color:i,penStartPosition:JSON.parse(JSON.stringify(w)),penFollowingPositions:Array.from(E)});else if(b){b=!b;n.fillStyle="#fff",n.fillRect(W.x-1,W.y-1,52,52),O.push({name:"eraser",eraserPositions:Array.from(N)})}m.x=void 0,m.y=void 0,k.x=void 0,k.y=void 0,w.x=void 0,w.y=void 0,E=[],W.x=void 0,W.y=void 0})),o.addEventListener("mousemove",(function(e){v?function(e){n.clearRect(0,0,o.width,o.height),O.forEach((function(e){M(e)})),n.beginPath(),n.moveTo(m.x,m.y),n.lineTo(e.offsetX,e.offsetY),n.save(),n.lineWidth=r,n.strokeStyle=i,n.stroke(),n.restore(),k.x=e.offsetX,k.y=e.offsetY}(e):h?function(e){n.clearRect(0,0,o.width,o.height),O.forEach((function(e){M(e)})),n.beginPath(),n.moveTo(m.x,m.y);var t=J(m.x,m.y,e.offsetX,e.offsetY);n.arc(m.x,m.y,t,0,2*Math.PI,!1),n.save(),n.lineWidth=r,n.strokeStyle=i,n.stroke(),n.restore(),k.x=e.offsetX,k.y=e.offsetY}(e):x?function(e){n.clearRect(0,0,o.width,o.height),O.forEach((function(e){M(e)})),n.strokeStyle=i,n.save(),n.lineWidth=r,n.strokeStyle=i,n.strokeRect(m.x,m.y,Math.abs(m.x-k.x),Math.abs(m.y-k.y)),n.restore(),k.x=e.offsetX,k.y=e.offsetY}(e):S?function(e){n.lineTo(e.offsetX,e.offsetY),n.save(),n.strokeStyle=i,n.lineWidth=r,n.stroke(),n.restore(),E.push({x:e.offsetX,y:e.offsetY})}(e):b&&function(e){n.beginPath(),n.fillStyle="#fff",n.fillRect(W.x-1,W.y-1,52,52),n.strokeRect(e.offsetX-25,e.offsetY-25,50,50),W.x=e.offsetX-25,W.y=e.offsetY-25,N.push({x:W.x,y:W.y})}(e)})),a.addEventListener("click",(function(e){n.clearRect(0,0,o.width,o.height),m.x=void 0,m.y=void 0,k.x=void 0,k.y=void 0,w.x=void 0,w.y=void 0,E=[],W.x=void 0,W.y=void 0,O=[],N=[],v=!1,h=!1,g=!1,S=!1,p=!1,b=!1}))}]);